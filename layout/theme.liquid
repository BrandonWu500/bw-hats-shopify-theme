<!doctype html>
<html lang='{{ request.locale.iso_code }}'>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <link rel='canonical' href='{{ canonical_url }}'>
    <meta
      name='viewport'
      content='width=device-width,initial-scale=1,shrink-to-fit=no'
    >

    <link
      rel='shortcut icon'
      href='{{ 'favicon.ico' | asset_url }}'
      type='image/x-icon'
    >

    <title>
      {{ page_title }}
      {%- if current_tags %}
        &ndash; tagged "{{ current_tags | join: ', ' }}"
      {%- endif -%}
      {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %}
        &ndash; {{ shop.name -}}
      {%- endunless -%}
    </title>

    {% if page_description %}
      <meta name='description' content='{{ page_description | escape }}'>
    {% endif %}

    {% render 'meta-tags' %}

    {% comment %} Google fonts {% endcomment %}
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link
      href='https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap'
      rel='stylesheet'
    >

    {{ content_for_header }}
    <!-- Header hook for plugins -->
    {{ 'globals.css' | asset_url | stylesheet_tag }}
    <script
      defer
      src='https://unpkg.com/alpinejs@3.13.2/dist/cdn.min.js'
    ></script>
    <script
      defer
      src='{{ 'utils.js' | asset_url }}'
    ></script>
    {% comment %} App.js NEEDS to be after alpine js script {% endcomment %}
    <script
      defer
      src='{{ 'app.js' | asset_url }}'
    ></script>
  </head>
  <body class='bg-white text-slate-700 font-body'>
    {% section 'announcement-bar' %}
    {% section 'header' %}
    <main role='main' class='min-h-screen'>
      {{ content_for_layout }}
    </main>
    {% section 'footer' %}
    {{ 'add-to-cart.js' | asset_url | script_tag }}
    {{ 'filter-and-sort.js' | asset_url | script_tag }}
    {{ 'annoucement-bar.js' | asset_url | script_tag }}
    {% comment %} {{ 'search.js' | asset_url | script_tag }} {% endcomment %}
  <!-- PF EDT START -->
<script type='text/javascript'>
{%- if content_for_header contains 'shopify-product-customizer' -%}
    {%- if product -%}
        {%- if product.first_available_variant -%}
            var pfProductId = {{ product.metafields.printful.is_synced | json }};
            var pfEdt = {{ shop.metafields.printful.is_edt_enabled | json }};
            var pfEdtTextColor = {{ shop.metafields.printful.edt_text_color | json }};
            var pfEdtBackgroundColor = {{ shop.metafields.printful.edt_background_color | json }};
            var pfEdtBorderColor = {{ shop.metafields.printful.edt_border_color | json }};  
            var pfEdtUseDefaultStyling = {{ shop.metafields.printful.edt_default_style | json }};
            var pfEdtTextAlignment = {{ shop.metafields.printful.edt_text_alignment | json }};
            var pfEdtFlags = {
                US: "{{ 'US.svg' | asset_url }}",CA: "{{ 'CA.svg' | asset_url }}",ES: "{{ 'ES.svg' | asset_url }}",LV: "{{ 'LV.svg' | asset_url }}",GB: "{{ 'GB.svg' | asset_url }}",DE: "{{ 'DE.svg' | asset_url }}",FR: "{{ 'FR.svg' | asset_url }}",AU: "{{ 'AU.svg' | asset_url }}",JP: "{{ 'JP.svg' | asset_url }}",NZ: "{{ 'NZ.svg' | asset_url }}",IT: "{{ 'IT.svg' | asset_url }}",BR: "{{ 'BR.svg' | asset_url }}",KR: "{{ 'KR.svg' | asset_url }}",NL: "{{ 'NL.svg' | asset_url }}",GB: "{{ 'GB.svg' | asset_url }}",US: "{{ 'US.svg' | asset_url }}",
            };
        {%- else -%}
            var pfEdt = 0;
        {%- endif -%}
    {%- endif -%}
{%- endif -%}
</script>
<!-- PF EDT END -->
</body>
</html>
